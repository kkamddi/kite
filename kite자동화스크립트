const input = document.querySelector('input[placeholder="Type your message..."][type="text"]');
const sendBtn = document.querySelector('button[type="submit"]');

const coins = [
  "bitcoin", "ethereum", "tether", "bnb", "solana", "xrp", "usd coin", "cardano", "dogecoin", "avalanche",
  "toncoin", "shiba inu", "polkadot", "tron", "chainlink", "polygon", "uniswap", "litecoin", "internet computer", "bitcoin cash"
];

function simulateInput(input, text) {
  const setter = Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype, "value").set;
  setter.call(input, text);
  input.dispatchEvent(new Event("input", { bubbles: true }));
}

async function sendLikeHuman(message) {
  simulateInput(input, message);
  console.log(`âŒ¨ï¸ [${new Date().toLocaleTimeString()}] ì…ë ¥ë¨: ${message}`);

  await new Promise(r => setTimeout(r, 1000));

  const maxWait = 5000;
  const interval = 250;
  let waited = 0;

  while (sendBtn.disabled && waited < maxWait) {
    await new Promise(r => setTimeout(r, interval));
    waited += interval;
  }

  if (!sendBtn.disabled) {
    sendBtn.click();
    console.log(`âœ… [${new Date().toLocaleTimeString()}] ì „ì†¡ë¨: ${message}`);
  } else {
    console.warn("âŒ ë²„íŠ¼ 5ì´ˆ ë‚´ í™œì„±í™”ë˜ì§€ ì•ŠìŒ...");
  }
}

// âœ… ìµœëŒ€í•œ ì„œë²„ ì•ˆì • ì‹œê°„ í™•ë³´ â†’ 65ì´ˆ ê¶Œì¥
const DELAY = 65 * 1000;

async function startBot() {
  for (let i = 0; i < coins.length; i++) {
    await sendLikeHuman(`price of ${coins[i]}`);
    await new Promise(r => setTimeout(r, DELAY));
  }

  console.log("ğŸš€ 20ê°œ ì „ì†¡ ì™„ë£Œ â€“ ë‚´ì¼ ë‹¤ì‹œ ë¶™ì—¬ë„£ê¸° í•´ì£¼ì„¸ìš”!");
}

// ì‹¤í–‰
startBot();
